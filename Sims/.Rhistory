setwd("/Users/annettemolinaro/Respository/Aim2/Sims")
library(vioplot)
justCART.error.500.PRUNED<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_justCART_Train500_PRUNED_ErrorToTruth.txt")
compdc.error.500.uplim20<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim20_ErrorToTruth.txt")
compdc.error.500.uplim40<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim40_ErrorToTruth.txt")
compthirds.error.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeThirds_500_uplim_ErrorToTruth.txt")
compRob.CVerror.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_ErrorToTruth.txt")
compRob.errorU.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_ErrorToTruth.errorU.lambdas.txt")
compRob.Error.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_ErrorToTruth.ErrorOptimisim.Lambdas.txt")
compRob.error.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_ErrorToTruth.error.lambdas.txt")
compdc.error.500.uplim20.lambda<-read.table("/Users/annettemolinaro/Repository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim20_MinErrorLambda.txt")
compdc.error.500.uplim20.lambda<-read.table("/Users/annettemolinaro/Repository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim20_MinErrorLambda.txt")
compdc.error.500.uplim40.lambda<-read.table("/Users/annettemolinaro/Repository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim40_MinErrorLambda.txt")
compthirds.error.500.uplim.lambda<-read.table("/Users/annettemolinaro/Repository/Aim2/Sims/friedman1_500_CompositeThirds_500_uplim_MinErrorLambda.txt")
compRob.CVerror.500.uplim.lambda<-read.table("/Users/annettemolinaro/Repository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.txt")
compdc.error.500.uplim20.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim20_MinErrorLambda.txt")
compdc.error.500.uplim40.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim40_MinErrorLambda.txt")
compthirds.error.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeThirds_500_uplim_MinErrorLambda.txt")
compRob.CVerror.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.txt")
compRob.errorU.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.errorU.lambdas.txt")
compRob.Error.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.ErrorOptimisim.Lambdas.txt")
compRob.error.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.error.lambdas.txt")
xy.500.uplim<-cbind(unlist(justCART.error.500.PRUNED),unlist(compdc.error.500.uplim20),unlist(compdc.error.500.uplim20),unlist(compthirds.error.500.uplim),unlist(compRob.CVerror.500.uplim),unlist(compRob.Error.500.uplim),unlist(compRob.errorU.500.uplim),unlist(compRob.error.500.uplim))
name.vec <- c("CART","DC_20","DC_40","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
boxplot(xy.500.uplim,names=name.vec,ylab="Average Squared Error",main="Friedman 1")
vioplot(as.vector(unlist(compdc.error.500.uplim)),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
vioplot(as.vector(unlist(justCART.error.500.PRUNED),unlist(compdc.error.500.uplim20),unlist(compdc.error.500.uplim20),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
tabl <- cbind(summary(compdc.error.500.uplim20),summary(compthirds.error.500.uplim),summary(compRob.CVerror.500.uplim),summary(compRob.Error.500.uplim),summary(compRob.errorU.500.uplim),summary(compRob.error.500.uplim))
vioplot(as.vector(unlist(justCART.error.500.PRUNED),unlist(compdc.error.500.uplim20),unlist(compdc.error.500.uplim20),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
tabl <- cbind(summary(compdc.error.500.uplim20),summary(compthirds.error.500.uplim),summary(compRob.CVerror.500.uplim),summary(compRob.Error.500.uplim),summary(compRob.errorU.500.uplim),summary(compRob.error.500.uplim))
vioplot(as.vector(unlist(justCART.error.500.PRUNED)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
vioplot(as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
name.vec <- c("DC_20","DC_40","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
vioplot(as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
model<-cmdArg(model="sim1")
tag <-cmdArg(tag="500")
n.training <- cmdArg(n.training=500L)
n.test <- cmdArg(n.test=1000L)
n.simulations <- cmdArg(n.simulations=500L)
name <- paste("data/",model,"_",tag,"_",sep="")
justCART <- paste("justCART/October2017/",model,"_",tag,"_",sep="")
model<-cmdArg(model="sim1")
library("R.utils")
library("listenv")
library("future")
library("rpart")
model<-cmdArg(model="sim1")
tag <-cmdArg(tag="500")
n.training <- cmdArg(n.training=500L)
n.test <- cmdArg(n.test=1000L)
n.simulations <- cmdArg(n.simulations=500L)
name <- paste("data/",model,"_",tag,"_",sep="")
justCART <- paste("justCART/October2017/",model,"_",tag,"_",sep="")
idx
idx<-1
set.seed(idx)
training.data <- matrix(scan(paste(name,"training_data_",idx,".txt",sep="")),nrow=n.training,byrow=TRUE)
test.data <- matrix(scan(paste(name,"test_data_",idx,".txt",sep="")),nrow=n.test,byrow=TRUE)
training.y <- scan(paste(name,"training_y_",idx,".txt",sep=""))
test.y <- scan(paste(name,"test_y_",idx,".txt",sep=""))
training.truth <- scan(paste(name,"training_truth_",idx,".txt",sep=""))
test.truth <- scan(paste(name,"test_truth_",idx,".txt",sep=""))
training.data.all<-data.frame(cbind(training.data,training.y))
dimnames(training.data.all)[[2]]<-c("X1","X2","X3","X4","X5","X6","X7","X8","X9","training.y")
dimnames(test.data)[[2]]<-c("X1","X2","X3","X4","X5","X6","X7","X8","X9")
test.data<-as.data.frame(test.data)
getwd()
setwd("/Users/annettemolinaro/Respository/Aim2/Sims")
set.seed(idx)
training.data <- matrix(scan(paste(name,"training_data_",idx,".txt",sep="")),nrow=n.training,byrow=TRUE)
test.data <- matrix(scan(paste(name,"test_data_",idx,".txt",sep="")),nrow=n.test,byrow=TRUE)
training.y <- scan(paste(name,"training_y_",idx,".txt",sep=""))
test.y <- scan(paste(name,"test_y_",idx,".txt",sep=""))
training.truth <- scan(paste(name,"training_truth_",idx,".txt",sep=""))
test.truth <- scan(paste(name,"test_truth_",idx,".txt",sep=""))
training.data.all<-data.frame(cbind(training.data,training.y))
dimnames(training.data.all)[[2]]<-c("X1","X2","X3","X4","X5","X6","X7","X8","X9","training.y")
dimnames(test.data)[[2]]<-c("X1","X2","X3","X4","X5","X6","X7","X8","X9")
test.data<-as.data.frame(test.data)
system.time(Model<-rpart(training.y~., dat=training.data.all))
Model
min.CP<-Model$cptable[which(Model$cptable[,4]==min(Model$cptable[,4])),1][1]
Model$cptable
min.CP
current.fit.pruned<-prune(Model,cp=min.CP)
current.fit.pruned
dim(test.data)
predicted.fit <- predict(object=current.fit.pruned, data=test.data)
cbind(predicted.fit,test.truth,test.y)
(sum(( predicted.fit - as.matrix(test.truth))^2))/n.test
table(predicted.fit,test.truth)
length(test.truth)
length(predicted.fit)
dim(test.data)
predicted.fit <- predict(object=current.fit.pruned, data=test.data)
length(predicted.fit)
n.test
dim(test.data)
test.data[1,]
training.data.all[1,]
current.fit.pruned
predicted.fit <- predict(object=current.fit.pruned, newdata=test.data)
length(predicted.fit)
ErrorToTruthCurrent<-(sum(( predicted.fit - as.matrix(test.truth))^2))/n.test
ErrorToTruthCurrent
justCART.error.500.PRUNED<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_justCART_Train500_PRUNED_ErrorToTruth.txt")
compdc.error.500.uplim20<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim20_ErrorToTruth.txt")
compdc.error.500.uplim40<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim40_ErrorToTruth.txt")
compthirds.error.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeThirds_500_uplim_ErrorToTruth.txt")
compRob.CVerror.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_ErrorToTruth.txt")
compRob.errorU.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_ErrorToTruth.errorU.lambdas.txt")
compRob.Error.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_ErrorToTruth.ErrorOptimisim.Lambdas.txt")
compRob.error.500.uplim<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_ErrorToTruth.error.lambdas.txt")
compdc.error.500.uplim20.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim20_MinErrorLambda.txt")
compdc.error.500.uplim40.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeDC_Train500_uplim40_MinErrorLambda.txt")
compthirds.error.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeThirds_500_uplim_MinErrorLambda.txt")
compRob.CVerror.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.txt")
compRob.errorU.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.errorU.lambdas.txt")
compRob.Error.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.ErrorOptimisim.Lambdas.txt")
compRob.error.500.uplim.lambda<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_CompositeRob_500_uplim_MinErrorLambda.error.lambdas.txt")
compdc.error.500.uplim.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeDC_Train500_PRUNED_ErrorToTruth.txt")
compthirds.error.500.uplim.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeThirds_500_uplim_ErrorToTruth.txt")
compRob.CVerror.500.uplim.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeRob_500_uplim_ErrorToTruth.txt")
compRob.errorU.500.uplim.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeRob_500_uplim_ErrorToTruth.errorU.lambdas.txt")
compRob.Error.500.uplim.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeRob_500_uplim_ErrorToTruth.ErrorOptimisim.Lambdas.txt")
compRob.error.500.uplim.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeRob_500_uplim_ErrorToTruth.error.lambdas.txt")
compdc.error.500.uplim20.lambda.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeDC_Train500_PRUNED_MinErrorLambda.txt")
compthirds.error.500.uplim.lambda.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeThirds_500_uplim_MinErrorLambda.txt")
compRob.CVerror.500.uplim.lambda.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeRob_500_uplim_MinErrorLambda.txt")
compRob.errorU.500.uplim.lambda.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeRob_500_uplim_MinErrorLambda.errorU.lambdas.txt")
compRob.Error.500.uplim.lambda.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeRob_500_uplim_MinErrorLambda.ErrorOptimisim.Lambdas.txt")
compRob.error.500.uplim.lambda.alpha1<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/alpha1_friedman1_500_CompositeRob_500_uplim_MinErrorLambda.error.lambdas.txt")
justCART.error.500.PRUNED<-read.table("/Users/annettemolinaro/Respository/Aim2/Sims/friedman1_500_justCART_Train500_PRUNED_ErrorToTruth.txt")
length(compRob.errorU.500.uplim.alpha1)
compRob.CVerror.500.uplim.alpha1
dim(compRob.CVerror.500.uplim.alpha1)
xy.500.uplim<-cbind(unlist(justCART.error.500.PRUNED),unlist(compdc.error.500.uplim20),unlist(compdc.error.500.uplim20),unlist(compthirds.error.500.uplim),unlist(compRob.CVerror.500.uplim),unlist(compRob.Error.500.uplim),unlist(compRob.errorU.500.uplim),unlist(compRob.error.500.uplim))
name.vec <- c("CART","DC_20","DC_40","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
boxplot(xy.500.uplim,names=name.vec,ylab="Average Squared Error",main="Friedman 1")
vioplot(as.vector(unlist(justCART.error.500.PRUNED)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
tabl <- cbind(summary(compdc.error.500.uplim20),summary(compthirds.error.500.uplim),summary(compRob.CVerror.500.uplim),summary(compRob.Error.500.uplim),summary(compRob.errorU.500.uplim),summary(compRob.error.500.uplim))
colnames(tabl) <- name.vec
tabl
tabl <- cbind(summary(justCART.error.500.PRUNED),summary(compdc.error.500.uplim20),summary(compdc.error.500.uplim40),summary(compthirds.error.500.uplim),summary(compRob.CVerror.500.uplim),summary(compRob.Error.500.uplim),summary(compRob.errorU.500.uplim),summary(compRob.error.500.uplim))
colnames(tabl) <- name.vec
tabl
vioplot(as.vector(unlist(justCART.error.500.PRUNED)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
lambda.500.uplim<-cbind(unlist(compdc.error.500.uplim20.lambda),unlist(compdc.error.500.uplim40.lambda),unlist(compthirds.error.500.uplim.lambda),unlist(compRob.CVerror.500.uplim.lambda),unlist(compRob.Error.500.uplim.lambda),unlist(compRob.errorU.500.uplim.lambda),unlist(compRob.error.500.uplim.lambda))
name.vec <- c("DC_20","DC_40","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
boxplot(lambda.500.uplim,names=name.vec,ylab="Lambda",main="Friedman 1")
vioplot(as.vector(unlist(compdc.error.500.uplim20.lambda)),unlist(compdc.error.500.uplim40.lambda)),as.vector(unlist(compthirds.error.500.uplim.lambda)),as.vector(unlist(compRob.CVerror.500.uplim.lambda)),as.vector(unlist(compRob.Error.500.uplim.lambda)),as.vector(unlist(compRob.errorU.500.uplim.lambda)),as.vector(unlist(compRob.error.500.uplim.lambda)),names=name.vec)
vioplot(as.vector(unlist(compdc.error.500.uplim20.lambda)),as.vector(unlist(compdc.error.500.uplim40.lambda)),as.vector(unlist(compthirds.error.500.uplim.lambda)),as.vector(unlist(compRob.CVerror.500.uplim.lambda)),as.vector(unlist(compRob.Error.500.uplim.lambda)),as.vector(unlist(compRob.errorU.500.uplim.lambda)),as.vector(unlist(compRob.error.500.uplim.lambda)),names=name.vec)
tabl <- cbind(summary(compdc.error.500.uplim20.lambda),summary(compdc.error.500.uplim40.lambda),summary(compthirds.error.500.uplim.lambda),summary(compRob.CVerror.500.uplim.lambda),summary(compRob.Error.500.uplim.lambda),summary(compRob.errorU.500.uplim.lambda),summary(compRob.error.500.uplim.lambda))
colnames(tabl) <- name.vec
tabl
xy.500.uplim<-cbind(unlist(justCART.error.500.PRUNED),unlist(compdc.error.500.uplim20),unlist(compdc.error.500.uplim40),unlist(compthirds.error.500.uplim),unlist(compRob.CVerror.500.uplim),unlist(compRob.Error.500.uplim),unlist(compRob.errorU.500.uplim),unlist(compRob.error.500.uplim))
name.vec <- c("CART","DC_20","DC_40","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
boxplot(xy.500.uplim,names=name.vec,ylab="Average Squared Error",main="Friedman 1")
vioplot(as.vector(unlist(justCART.error.500.PRUNED)),as.vector(unlist(compdc.error.500.uplim20)),as.vector(unlist(compdc.error.500.uplim40)),as.vector(unlist(compthirds.error.500.uplim)),as.vector(unlist(compRob.CVerror.500.uplim)),as.vector(unlist(compRob.Error.500.uplim)),as.vector(unlist(compRob.errorU.500.uplim)),as.vector(unlist(compRob.error.500.uplim)),names=name.vec)
xy.500.uplim<-cbind(unlist(justCART.error.500.PRUNED),unlist(compdc.error.500.uplim.alpha1),unlist(compdc.error.500.uplim20),unlist(compthirds.error.500.uplim.alpha1),unlist(compRob.CVerror.500.uplim.alpha1),unlist(compRob.Error.500.uplim.alpha1),unlist(compRob.errorU.500.uplim.alpha1),unlist(compRob.error.500.uplim.alpha1))
xy.500.uplim<-cbind(unlist(justCART.error.500.PRUNED)[1:192],unlist(compdc.error.500.uplim.alpha1)[1:192],unlist(compdc.error.500.uplim20)[1:192],unlist(compthirds.error.500.uplim.alpha1)[1:192],unlist(compRob.CVerror.500.uplim.alpha1),unlist(compRob.Error.500.uplim.alpha1),unlist(compRob.errorU.500.uplim.alpha1),unlist(compRob.error.500.uplim.alpha1))
name.vec <- c("CART","DC_20","DC_40","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
boxplot(xy.500.uplim,names=name.vec,ylab="Average Squared Error",main="Friedman 1")
vioplot(as.vector(unlist(justCART.error.500.PRUNED)[1:192]),as.vector(unlist(compdc.error.500.uplim.alpha1)[1:192]),as.vector(unlist(compthirds.error.500.uplim.alpha1)[1:192]),as.vector(unlist(compRob.CVerror.500.uplim.alpha1)),as.vector(unlist(compRob.Error.500.uplim.alpha1)),as.vector(unlist(compRob.errorU.500.uplim.alpha1)),as.vector(unlist(compRob.error.500.uplim.alpha1)),names=name.vec)
vioplot(as.vector(unlist(justCART.error.500.PRUNED)[1:192]),as.vector(unlist(compdc.error.500.uplim.alpha1)[1:192]),as.vector(unlist(compthirds.error.500.uplim.alpha1)[1:192]),as.vector(unlist(compRob.CVerror.500.uplim.alpha1)),as.vector(unlist(compRob.Error.500.uplim.alpha1)),as.vector(unlist(compRob.errorU.500.uplim.alpha1)),as.vector(unlist(compRob.error.500.uplim.alpha1)),names=name.vec)
vioplot(as.vector(unlist(justCART.error.500.PRUNED))[1:192],as.vector(unlist(compdc.error.500.uplim.alpha1))[1:192],as.vector(unlist(compthirds.error.500.uplim.alpha1))[1:192],as.vector(unlist(compRob.CVerror.500.uplim.alpha1)),as.vector(unlist(compRob.Error.500.uplim.alpha1)),as.vector(unlist(compRob.errorU.500.uplim.alpha1)),as.vector(unlist(compRob.error.500.uplim.alpha1)),names=name.vec)
as.vector(unlist(justCART.error.500.PRUNED))[1:192]
as.vector(unlist(compdc.error.500.uplim.alpha1))[1:192]
name.vec <- c("CART","DC","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
boxplot(xy.500.uplim,names=name.vec,ylab="Average Squared Error",main="Friedman 1")
xy.500.uplim<-cbind(unlist(justCART.error.500.PRUNED)[1:192],unlist(compdc.error.500.uplim.alpha1)[1:192],unlist(compthirds.error.500.uplim.alpha1)[1:192],unlist(compRob.CVerror.500.uplim.alpha1),unlist(compRob.Error.500.uplim.alpha1),unlist(compRob.errorU.500.uplim.alpha1),unlist(compRob.error.500.uplim.alpha1))
name.vec <- c("CART","DC","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
boxplot(xy.500.uplim,names=name.vec,ylab="Average Squared Error",main="Friedman 1")
vioplot(as.vector(unlist(justCART.error.500.PRUNED))[1:192],as.vector(unlist(compdc.error.500.uplim.alpha1))[1:192],as.vector(unlist(compthirds.error.500.uplim.alpha1))[1:192],as.vector(unlist(compRob.CVerror.500.uplim.alpha1)),as.vector(unlist(compRob.Error.500.uplim.alpha1)),as.vector(unlist(compRob.errorU.500.uplim.alpha1)),as.vector(unlist(compRob.error.500.uplim.alpha1)),names=name.vec)
vioplot(as.vector(unlist(justCART.error.500.PRUNED))[1:192],as.vector(unlist(compdc.error.500.uplim.alpha1))[1:192],as.vector(unlist(compthirds.error.500.uplim.alpha1))[1:192],as.vector(unlist(compRob.CVerror.500.uplim.alpha1)),as.vector(unlist(compRob.Error.500.uplim.alpha1)),as.vector(unlist(compRob.errorU.500.uplim.alpha1)),as.vector(unlist(compRob.error.500.uplim.alpha1)),names=name.vec)
tabl <- cbind(summary(justCART.error.500.PRUNED),summary(compdc.error.500.uplim20),summary(compdc.error.500.uplim40),summary(compthirds.error.500.uplim),summary(compRob.CVerror.500.uplim),summary(compRob.Error.500.uplim),summary(compRob.errorU.500.uplim),summary(compRob.error.500.uplim))
colnames(tabl) <- name.vec
tabl <- cbind(summary(justCART.error.500.PRUNED),summary(compdc.error.500.uplim.alpha1),summary(compthirds.error.500.uplim.alpha1),summary(compRob.CVerror.500.uplim.alpha1),summary(compRob.Error.500.uplim.alpha1),summary(compRob.errorU.500.uplim.alpha1),summary(compRob.error.500.uplim.alpha1))
colnames(tabl) <- name.vec
tabl
lambda.500.uplim<-cbind(unlist(compdc.error.500.uplim.lambda.alpha1)[1:480],unlist(compthirds.error.500.uplim.lambda.alpha1)[1:480],unlist(compRob.CVerror.500.uplim.lambda.alpha1),unlist(compRob.Error.500.uplim.lambda.alpha1),
unlist(compRob.errorU.500.uplim.lambda.alpha1),unlist(compRob.error.500.uplim.lambda.alpha1))
lambda.500.uplim<-cbind(unlist(compdc.error.500.uplim20.lambda.alpha1)[1:480],unlist(compthirds.error.500.uplim.lambda.alpha1)[1:480],unlist(compRob.CVerror.500.uplim.lambda.alpha1),unlist(compRob.Error.500.uplim.lambda.alpha1),
unlist(compRob.errorU.500.uplim.lambda.alpha1),unlist(compRob.error.500.uplim.lambda.alpha1))
lambda.500.uplim<-cbind(unlist(compdc.error.500.uplim20.lambda.alpha1)[1:192],unlist(compthirds.error.500.uplim.lambda.alpha1)[1:192],unlist(compRob.CVerror.500.uplim.lambda.alpha1),unlist(compRob.Error.500.uplim.lambda.alpha1),
unlist(compRob.errorU.500.uplim.lambda.alpha1),unlist(compRob.error.500.uplim.lambda.alpha1))
name.vec <- c("DC","Thirds","R_CV","R_OpErr","R_AppRes","R_AppCI")
boxplot(lambda.500.uplim,names=name.vec,ylab="Lambda",main="Friedman 1")
vioplot(as.vector(unlist(compdc.error.500.uplim20.lambda.alpha1)[1:192]),as.vector(unlist(compthirds.error.500.uplim.lambda.alpha1)[1:192]),as.vector(unlist(compRob.CVerror.500.uplim.lambda.alpha1)),as.vector(unlist(compRob.Error.500.uplim.lambda.alpha1)),
as.vector(unlist(compRob.errorU.500.uplim.lambda.alpha1)),as.vector(unlist(compRob.error.500.uplim.lambda.alpha1)),names=name.vec)
tabl <- cbind(summary(compdc.error.500.uplim20.lambda.alpha1),summary(compthirds.error.500.uplim.lambda.alpha1),summary(compRob.CVerror.500.uplim.lambda.alpha1),summary(compRob.Error.500.uplim.lambda.alpha1),
summary(compRob.errorU.500.uplim.lambda.alpha1),summary(compRob.error.500.uplim.lambda.alpha1))
colnames(tabl) <- name.vec
tabl
source("/Users/annettemolinaro/Respository/Aim2/IntegratingCodeAndText_postAMM.R")
model<-cmdArg(model="sim1")
tag <-cmdArg(tag="500")
n.training <- cmdArg(n.training=500L)
n.test <- cmdArg(n.test=1000L)
n.simulations <- cmdArg(n.simulations=500L)
name <- paste("data/",model,"_",tag,"_",sep="")
CompositeDC <- paste("CompositeDC/October2017/",model,"_",tag,"_",sep="")
set.seed(idx)
training.data <- matrix(scan(paste(name,"training_data_",idx,".txt",sep="")),nrow=n.training,byrow=TRUE)
test.data <- matrix(scan(paste(name,"test_data_",idx,".txt",sep="")),nrow=n.test,byrow=TRUE)
training.y <- scan(paste(name,"training_y_",idx,".txt",sep=""))
test.y <- scan(paste(name,"test_y_",idx,".txt",sep=""))
training.truth <- scan(paste(name,"training_truth_",idx,".txt",sep=""))
test.truth <- scan(paste(name,"test_truth_",idx,".txt",sep=""))
training.data.all<-data.frame(cbind(training.data,training.y))
dimnames(training.data.all)[[2]]<-c("X1","X2","X3","X4","X5","X6","X7","X8","X9","training.y")
dimnames(test.data)[[2]]<-c("X1","X2","X3","X4","X5","X6","X7","X8","X9")
test.data<-as.data.frame(test.data)
system.time(Model<-composite.rpart(dat=training.data.all,n.grid=100,uplim=20,outvar="training.y",alpha.Fixed=FALSE))
Model
attributes(Model)
Model$alphas
hist(Model$alphas)
hist(Model$var.z1s)
setwd("/Users/annettemolinaro/Respository/Aim2/Sims")
setwd("/Users/annettemolinaro/Respository/Aim2/Sims")
source("../IntegratingCodeAndText_postAMM.R")
setwd("/Users/annettemolinaro/Respository/Aim2/Sims")
source("../IntegratingCodeAndText_postAMM.R")
(ModelR<-composite.rpart.Grid(dat = training.data.all, n.grid =100, mult = 1,
uplim = 20, outvar = "training.y", prop.learning = 0.5,alpha.Fixed=TRUE))
